/* ClipboardList.c generated by valac 0.40.15, the Vala compiler
 * generated from ClipboardList.vala, do not modify */



#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>


#define TYPE_CLIPBOARD_LIST (clipboard_list_get_type ())
#define CLIPBOARD_LIST(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_CLIPBOARD_LIST, ClipboardList))
#define CLIPBOARD_LIST_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_CLIPBOARD_LIST, ClipboardListClass))
#define IS_CLIPBOARD_LIST(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_CLIPBOARD_LIST))
#define IS_CLIPBOARD_LIST_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_CLIPBOARD_LIST))
#define CLIPBOARD_LIST_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_CLIPBOARD_LIST, ClipboardListClass))

typedef struct _ClipboardList ClipboardList;
typedef struct _ClipboardListClass ClipboardListClass;
typedef struct _ClipboardListPrivate ClipboardListPrivate;
enum  {
	CLIPBOARD_LIST_0_PROPERTY,
	CLIPBOARD_LIST_NUM_PROPERTIES
};
static GParamSpec* clipboard_list_properties[CLIPBOARD_LIST_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define __vala_GtkTreePath_free0(var) ((var == NULL) ? NULL : (var = (_vala_GtkTreePath_free (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))

#define TYPE_CLIP (clip_get_type ())
#define CLIP(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_CLIP, Clip))
#define CLIP_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_CLIP, ClipClass))
#define IS_CLIP(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_CLIP))
#define IS_CLIP_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_CLIP))
#define CLIP_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_CLIP, ClipClass))

typedef struct _Clip Clip;
typedef struct _ClipClass ClipClass;
enum  {
	CLIPBOARD_LIST_ON_SELECT_SIGNAL,
	CLIPBOARD_LIST_NUM_SIGNALS
};
static guint clipboard_list_signals[CLIPBOARD_LIST_NUM_SIGNALS] = {0};

struct _ClipboardList {
	GtkTreeView parent_instance;
	ClipboardListPrivate * priv;
};

struct _ClipboardListClass {
	GtkTreeViewClass parent_class;
};

struct _ClipboardListPrivate {
	GtkListStore* list;
	GtkTreeIter iter;
	GtkTreePath* path;
	GtkTreeViewColumn* column;
};


static gpointer clipboard_list_parent_class = NULL;

GType clipboard_list_get_type (void) G_GNUC_CONST;
#define CLIPBOARD_LIST_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TYPE_CLIPBOARD_LIST, ClipboardListPrivate))
static void _vala_GtkTreePath_free (GtkTreePath* self);
ClipboardList* clipboard_list_new (void);
ClipboardList* clipboard_list_construct (GType object_type);
static void __lambda4_ (ClipboardList* self,
                 GtkTreePath* path,
                 GtkTreeViewColumn* column);
static void ___lambda4__gtk_tree_view_row_activated (GtkTreeView* _sender,
                                              GtkTreePath* path,
                                              GtkTreeViewColumn* column,
                                              gpointer self);
gpointer clip_ref (gpointer instance);
void clip_unref (gpointer instance);
GParamSpec* param_spec_clip (const gchar* name,
                             const gchar* nick,
                             const gchar* blurb,
                             GType object_type,
                             GParamFlags flags);
void value_set_clip (GValue* value,
                     gpointer v_object);
void value_take_clip (GValue* value,
                      gpointer v_object);
gpointer value_get_clip (const GValue* value);
GType clip_get_type (void) G_GNUC_CONST;
void clipboard_list_DisplayList (ClipboardList* self,
                                 Clip** clips,
                                 int clips_length1);
gchar* clip_get_value (Clip* self);
gchar* clip_get_date (Clip* self);
void clipboard_list_ResetList (ClipboardList* self);
static void clipboard_list_finalize (GObject * obj);


static void
_vala_GtkTreePath_free (GtkTreePath* self)
{
#line 5 "/home/john/ValaTest/src/ClipboardList.vala"
	g_boxed_free (gtk_tree_path_get_type (), self);
#line 106 "ClipboardList.c"
}


static void
__lambda4_ (ClipboardList* self,
            GtkTreePath* path,
            GtkTreeViewColumn* column)
{
	GtkTreeModel* _tmp0_;
	GtkTreeModel* _tmp1_;
	GtkTreeIter _tmp2_ = {0};
	gboolean _tmp3_;
#line 30 "/home/john/ValaTest/src/ClipboardList.vala"
	g_return_if_fail (path != NULL);
#line 30 "/home/john/ValaTest/src/ClipboardList.vala"
	g_return_if_fail (column != NULL);
#line 31 "/home/john/ValaTest/src/ClipboardList.vala"
	_tmp0_ = gtk_tree_view_get_model ((GtkTreeView*) self);
#line 31 "/home/john/ValaTest/src/ClipboardList.vala"
	_tmp1_ = _tmp0_;
#line 31 "/home/john/ValaTest/src/ClipboardList.vala"
	_tmp3_ = gtk_tree_model_get_iter (_tmp1_, &_tmp2_, path);
#line 31 "/home/john/ValaTest/src/ClipboardList.vala"
	self->priv->iter = _tmp2_;
#line 31 "/home/john/ValaTest/src/ClipboardList.vala"
	if (_tmp3_) {
#line 133 "ClipboardList.c"
		gchar* value = NULL;
		GtkTreeModel* _tmp4_;
		GtkTreeModel* _tmp5_;
		GtkTreeIter _tmp6_;
		gchar* _tmp7_ = NULL;
		const gchar* _tmp8_;
#line 32 "/home/john/ValaTest/src/ClipboardList.vala"
		value = NULL;
#line 33 "/home/john/ValaTest/src/ClipboardList.vala"
		_tmp4_ = gtk_tree_view_get_model ((GtkTreeView*) self);
#line 33 "/home/john/ValaTest/src/ClipboardList.vala"
		_tmp5_ = _tmp4_;
#line 33 "/home/john/ValaTest/src/ClipboardList.vala"
		_tmp6_ = self->priv->iter;
#line 33 "/home/john/ValaTest/src/ClipboardList.vala"
		gtk_tree_model_get (_tmp5_, &_tmp6_, 1, &_tmp7_, -1);
#line 33 "/home/john/ValaTest/src/ClipboardList.vala"
		_g_free0 (value);
#line 33 "/home/john/ValaTest/src/ClipboardList.vala"
		value = _tmp7_;
#line 34 "/home/john/ValaTest/src/ClipboardList.vala"
		_tmp8_ = value;
#line 34 "/home/john/ValaTest/src/ClipboardList.vala"
		g_signal_emit (self, clipboard_list_signals[CLIPBOARD_LIST_ON_SELECT_SIGNAL], 0, _tmp8_);
#line 31 "/home/john/ValaTest/src/ClipboardList.vala"
		_g_free0 (value);
#line 160 "ClipboardList.c"
	}
}


static void
___lambda4__gtk_tree_view_row_activated (GtkTreeView* _sender,
                                         GtkTreePath* path,
                                         GtkTreeViewColumn* column,
                                         gpointer self)
{
#line 30 "/home/john/ValaTest/src/ClipboardList.vala"
	__lambda4_ ((ClipboardList*) self, path, column);
#line 173 "ClipboardList.c"
}


ClipboardList*
clipboard_list_construct (GType object_type)
{
	ClipboardList * self = NULL;
	GtkListStore* _tmp0_;
	GtkListStore* _tmp1_;
	GtkTreeViewColumn* id_top = NULL;
	GtkTreeViewColumn* _tmp2_;
	GtkCellRendererText* cell = NULL;
	GtkCellRendererText* _tmp3_;
	GtkCellRendererText* contents_rend = NULL;
	GtkCellRendererText* _tmp4_;
	GtkCellRendererText* _tmp5_;
	GtkCellRendererText* _tmp6_;
#line 10 "/home/john/ValaTest/src/ClipboardList.vala"
	self = (ClipboardList*) g_object_new (object_type, NULL);
#line 11 "/home/john/ValaTest/src/ClipboardList.vala"
	_tmp0_ = gtk_list_store_new (3, G_TYPE_STRING, G_TYPE_STRING, G_TYPE_STRING, -1);
#line 11 "/home/john/ValaTest/src/ClipboardList.vala"
	_g_object_unref0 (self->priv->list);
#line 11 "/home/john/ValaTest/src/ClipboardList.vala"
	self->priv->list = _tmp0_;
#line 12 "/home/john/ValaTest/src/ClipboardList.vala"
	_tmp1_ = self->priv->list;
#line 12 "/home/john/ValaTest/src/ClipboardList.vala"
	gtk_tree_view_set_model ((GtkTreeView*) self, (GtkTreeModel*) _tmp1_);
#line 13 "/home/john/ValaTest/src/ClipboardList.vala"
	gtk_tree_view_set_fixed_height_mode ((GtkTreeView*) self, FALSE);
#line 15 "/home/john/ValaTest/src/ClipboardList.vala"
	_tmp2_ = gtk_tree_view_column_new ();
#line 15 "/home/john/ValaTest/src/ClipboardList.vala"
	g_object_ref_sink (_tmp2_);
#line 15 "/home/john/ValaTest/src/ClipboardList.vala"
	id_top = _tmp2_;
#line 16 "/home/john/ValaTest/src/ClipboardList.vala"
	gtk_tree_view_column_set_title (id_top, "ID");
#line 18 "/home/john/ValaTest/src/ClipboardList.vala"
	_tmp3_ = (GtkCellRendererText*) gtk_cell_renderer_text_new ();
#line 18 "/home/john/ValaTest/src/ClipboardList.vala"
	g_object_ref_sink (_tmp3_);
#line 18 "/home/john/ValaTest/src/ClipboardList.vala"
	cell = _tmp3_;
#line 19 "/home/john/ValaTest/src/ClipboardList.vala"
	g_object_set ((GObject*) cell, "weight_set", TRUE, NULL);
#line 20 "/home/john/ValaTest/src/ClipboardList.vala"
	g_object_set ((GObject*) cell, "weight", 700, NULL);
#line 22 "/home/john/ValaTest/src/ClipboardList.vala"
	_tmp4_ = (GtkCellRendererText*) gtk_cell_renderer_text_new ();
#line 22 "/home/john/ValaTest/src/ClipboardList.vala"
	g_object_ref_sink (_tmp4_);
#line 22 "/home/john/ValaTest/src/ClipboardList.vala"
	contents_rend = _tmp4_;
#line 23 "/home/john/ValaTest/src/ClipboardList.vala"
	g_object_set ((GObject*) contents_rend, "wrap_mode", TRUE, NULL);
#line 24 "/home/john/ValaTest/src/ClipboardList.vala"
	g_object_set ((GObject*) contents_rend, "width_chars", 100, NULL);
#line 26 "/home/john/ValaTest/src/ClipboardList.vala"
	gtk_tree_view_insert_column_with_attributes ((GtkTreeView*) self, -1, "ID", (GtkCellRenderer*) cell, "text", 0, NULL);
#line 27 "/home/john/ValaTest/src/ClipboardList.vala"
	gtk_tree_view_insert_column_with_attributes ((GtkTreeView*) self, -1, "Contents", (GtkCellRenderer*) contents_rend, "text", 1, NULL);
#line 28 "/home/john/ValaTest/src/ClipboardList.vala"
	_tmp5_ = (GtkCellRendererText*) gtk_cell_renderer_text_new ();
#line 28 "/home/john/ValaTest/src/ClipboardList.vala"
	g_object_ref_sink (_tmp5_);
#line 28 "/home/john/ValaTest/src/ClipboardList.vala"
	_tmp6_ = _tmp5_;
#line 28 "/home/john/ValaTest/src/ClipboardList.vala"
	gtk_tree_view_insert_column_with_attributes ((GtkTreeView*) self, -1, "Date", (GtkCellRenderer*) _tmp6_, "text", 2, NULL);
#line 28 "/home/john/ValaTest/src/ClipboardList.vala"
	_g_object_unref0 (_tmp6_);
#line 30 "/home/john/ValaTest/src/ClipboardList.vala"
	g_signal_connect_object ((GtkTreeView*) self, "row-activated", (GCallback) ___lambda4__gtk_tree_view_row_activated, self, 0);
#line 10 "/home/john/ValaTest/src/ClipboardList.vala"
	_g_object_unref0 (contents_rend);
#line 10 "/home/john/ValaTest/src/ClipboardList.vala"
	_g_object_unref0 (cell);
#line 10 "/home/john/ValaTest/src/ClipboardList.vala"
	_g_object_unref0 (id_top);
#line 10 "/home/john/ValaTest/src/ClipboardList.vala"
	return self;
#line 257 "ClipboardList.c"
}


ClipboardList*
clipboard_list_new (void)
{
#line 10 "/home/john/ValaTest/src/ClipboardList.vala"
	return clipboard_list_construct (TYPE_CLIPBOARD_LIST);
#line 266 "ClipboardList.c"
}


void
clipboard_list_DisplayList (ClipboardList* self,
                            Clip** clips,
                            int clips_length1)
{
#line 39 "/home/john/ValaTest/src/ClipboardList.vala"
	g_return_if_fail (self != NULL);
#line 277 "ClipboardList.c"
	{
		gint i = 0;
#line 40 "/home/john/ValaTest/src/ClipboardList.vala"
		i = clips_length1 - 1;
#line 282 "ClipboardList.c"
		{
			gboolean _tmp0_ = FALSE;
#line 40 "/home/john/ValaTest/src/ClipboardList.vala"
			_tmp0_ = TRUE;
#line 40 "/home/john/ValaTest/src/ClipboardList.vala"
			while (TRUE) {
#line 289 "ClipboardList.c"
				gint _tmp2_;
				GtkListStore* _tmp3_;
				GtkTreeIter _tmp4_ = {0};
				GtkListStore* _tmp5_;
				GtkTreeIter _tmp6_;
				gint _tmp7_;
				gchar* _tmp8_;
				gchar* _tmp9_;
				gchar* _tmp10_;
				gchar* _tmp11_;
				gint _tmp12_;
				Clip* _tmp13_;
				gchar* _tmp14_;
				gchar* _tmp15_;
				gint _tmp16_;
				Clip* _tmp17_;
				gchar* _tmp18_;
				gchar* _tmp19_;
#line 40 "/home/john/ValaTest/src/ClipboardList.vala"
				if (!_tmp0_) {
#line 310 "ClipboardList.c"
					gint _tmp1_;
#line 40 "/home/john/ValaTest/src/ClipboardList.vala"
					_tmp1_ = i;
#line 40 "/home/john/ValaTest/src/ClipboardList.vala"
					i = _tmp1_ - 1;
#line 316 "ClipboardList.c"
				}
#line 40 "/home/john/ValaTest/src/ClipboardList.vala"
				_tmp0_ = FALSE;
#line 40 "/home/john/ValaTest/src/ClipboardList.vala"
				_tmp2_ = i;
#line 40 "/home/john/ValaTest/src/ClipboardList.vala"
				if (!(_tmp2_ > -1)) {
#line 40 "/home/john/ValaTest/src/ClipboardList.vala"
					break;
#line 326 "ClipboardList.c"
				}
#line 41 "/home/john/ValaTest/src/ClipboardList.vala"
				_tmp3_ = self->priv->list;
#line 41 "/home/john/ValaTest/src/ClipboardList.vala"
				gtk_list_store_append (_tmp3_, &_tmp4_);
#line 41 "/home/john/ValaTest/src/ClipboardList.vala"
				self->priv->iter = _tmp4_;
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_tmp5_ = self->priv->list;
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_tmp6_ = self->priv->iter;
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_tmp7_ = i;
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_tmp8_ = g_strdup_printf ("%i", _tmp7_);
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_tmp9_ = _tmp8_;
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_tmp10_ = g_strconcat (_tmp9_, ".", NULL);
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_tmp11_ = _tmp10_;
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_tmp12_ = i;
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_tmp13_ = clips[_tmp12_];
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_tmp14_ = clip_get_value (_tmp13_);
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_tmp15_ = _tmp14_;
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_tmp16_ = i;
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_tmp17_ = clips[_tmp16_];
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_tmp18_ = clip_get_date (_tmp17_);
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_tmp19_ = _tmp18_;
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				gtk_list_store_set (_tmp5_, &_tmp6_, 0, _tmp11_, 1, _tmp15_, 2, _tmp19_, -1);
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_g_free0 (_tmp19_);
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_g_free0 (_tmp15_);
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_g_free0 (_tmp11_);
#line 42 "/home/john/ValaTest/src/ClipboardList.vala"
				_g_free0 (_tmp9_);
#line 374 "ClipboardList.c"
			}
		}
	}
}


void
clipboard_list_ResetList (ClipboardList* self)
{
	GtkListStore* _tmp0_;
#line 46 "/home/john/ValaTest/src/ClipboardList.vala"
	g_return_if_fail (self != NULL);
#line 47 "/home/john/ValaTest/src/ClipboardList.vala"
	_tmp0_ = self->priv->list;
#line 47 "/home/john/ValaTest/src/ClipboardList.vala"
	gtk_list_store_clear (_tmp0_);
#line 391 "ClipboardList.c"
}


static void
clipboard_list_class_init (ClipboardListClass * klass)
{
#line 1 "/home/john/ValaTest/src/ClipboardList.vala"
	clipboard_list_parent_class = g_type_class_peek_parent (klass);
#line 1 "/home/john/ValaTest/src/ClipboardList.vala"
	g_type_class_add_private (klass, sizeof (ClipboardListPrivate));
#line 1 "/home/john/ValaTest/src/ClipboardList.vala"
	G_OBJECT_CLASS (klass)->finalize = clipboard_list_finalize;
#line 1 "/home/john/ValaTest/src/ClipboardList.vala"
	clipboard_list_signals[CLIPBOARD_LIST_ON_SELECT_SIGNAL] = g_signal_new ("on-select", TYPE_CLIPBOARD_LIST, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__STRING, G_TYPE_NONE, 1, G_TYPE_STRING);
#line 406 "ClipboardList.c"
}


static void
clipboard_list_instance_init (ClipboardList * self)
{
#line 1 "/home/john/ValaTest/src/ClipboardList.vala"
	self->priv = CLIPBOARD_LIST_GET_PRIVATE (self);
#line 415 "ClipboardList.c"
}


static void
clipboard_list_finalize (GObject * obj)
{
	ClipboardList * self;
#line 1 "/home/john/ValaTest/src/ClipboardList.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TYPE_CLIPBOARD_LIST, ClipboardList);
#line 3 "/home/john/ValaTest/src/ClipboardList.vala"
	_g_object_unref0 (self->priv->list);
#line 5 "/home/john/ValaTest/src/ClipboardList.vala"
	__vala_GtkTreePath_free0 (self->priv->path);
#line 6 "/home/john/ValaTest/src/ClipboardList.vala"
	_g_object_unref0 (self->priv->column);
#line 1 "/home/john/ValaTest/src/ClipboardList.vala"
	G_OBJECT_CLASS (clipboard_list_parent_class)->finalize (obj);
#line 433 "ClipboardList.c"
}


GType
clipboard_list_get_type (void)
{
	static volatile gsize clipboard_list_type_id__volatile = 0;
	if (g_once_init_enter (&clipboard_list_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ClipboardListClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) clipboard_list_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ClipboardList), 0, (GInstanceInitFunc) clipboard_list_instance_init, NULL };
		GType clipboard_list_type_id;
		clipboard_list_type_id = g_type_register_static (gtk_tree_view_get_type (), "ClipboardList", &g_define_type_info, 0);
		g_once_init_leave (&clipboard_list_type_id__volatile, clipboard_list_type_id);
	}
	return clipboard_list_type_id__volatile;
}



