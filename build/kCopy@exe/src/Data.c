/* Data.c generated by valac 0.40.15, the Vala compiler
 * generated from Data.vala, do not modify */



#include <glib.h>
#include <glib-object.h>
#include <sqlite3.h>
#include <stdlib.h>
#include <string.h>


#define TYPE_DATA (data_get_type ())
#define DATA(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_DATA, Data))
#define DATA_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_DATA, DataClass))
#define IS_DATA(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_DATA))
#define IS_DATA_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_DATA))
#define DATA_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_DATA, DataClass))

typedef struct _Data Data;
typedef struct _DataClass DataClass;
typedef struct _DataPrivate DataPrivate;

#define TYPE_CLIP (clip_get_type ())
#define CLIP(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_CLIP, Clip))
#define CLIP_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_CLIP, ClipClass))
#define IS_CLIP(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_CLIP))
#define IS_CLIP_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_CLIP))
#define CLIP_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_CLIP, ClipClass))

typedef struct _Clip Clip;
typedef struct _ClipClass ClipClass;
enum  {
	DATA_0_PROPERTY,
	DATA_NUM_PROPERTIES
};
static GParamSpec* data_properties[DATA_NUM_PROPERTIES];
#define _sqlite3_close0(var) ((var == NULL) ? NULL : (var = (sqlite3_close (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _clip_unref0(var) ((var == NULL) ? NULL : (var = (clip_unref (var), NULL)))
#define _sqlite3_finalize0(var) ((var == NULL) ? NULL : (var = (sqlite3_finalize (var), NULL)))
enum  {
	DATA_CALLBACK_EVENT_SIGNAL,
	DATA_ROW_CALLBACK_SIGNAL,
	DATA_INSERT_CALLBACK_SIGNAL,
	DATA_NUM_SIGNALS
};
static guint data_signals[DATA_NUM_SIGNALS] = {0};

struct _Data {
	GObject parent_instance;
	DataPrivate * priv;
};

struct _DataClass {
	GObjectClass parent_class;
};

struct _DataPrivate {
	sqlite3* db;
	gchar* errmsg;
	gint current;
	Clip** clips;
	gint clips_length1;
	gint _clips_size_;
};


static gpointer data_parent_class = NULL;

GType data_get_type (void) G_GNUC_CONST;
gpointer clip_ref (gpointer instance);
void clip_unref (gpointer instance);
GParamSpec* param_spec_clip (const gchar* name,
                             const gchar* nick,
                             const gchar* blurb,
                             GType object_type,
                             GParamFlags flags);
void value_set_clip (GValue* value,
                     gpointer v_object);
void value_take_clip (GValue* value,
                      gpointer v_object);
gpointer value_get_clip (const GValue* value);
GType clip_get_type (void) G_GNUC_CONST;
#define DATA_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TYPE_DATA, DataPrivate))
Data* data_new (void);
Data* data_construct (GType object_type);
void data_DropTable (Data* self);
void data_CreateTable (Data* self);
void data_InsertClip (Data* self,
                      const gchar* value);
Clip* clip_new (void);
Clip* clip_construct (GType object_type);
void clip_set_value (Clip* self,
                     const gchar* value);
void data_GetClips (Data* self);
void clip_set_date (Clip* self,
                    const gchar* date);
static void _vala_array_add1 (Clip** * array,
                       int* length,
                       int* size,
                       Clip* value);
void data_SearchClips (Data* self,
                       const gchar* term);
static void g_cclosure_user_marshal_VOID__POINTER_INT (GClosure * closure,
                                                GValue * return_value,
                                                guint n_param_values,
                                                const GValue * param_values,
                                                gpointer invocation_hint,
                                                gpointer marshal_data);
static void g_cclosure_user_marshal_VOID__CLIP (GClosure * closure,
                                         GValue * return_value,
                                         guint n_param_values,
                                         const GValue * param_values,
                                         gpointer invocation_hint,
                                         gpointer marshal_data);
static void data_finalize (GObject * obj);
static void _vala_array_destroy (gpointer array,
                          gint array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gint array_length,
                       GDestroyNotify destroy_func);


Data*
data_construct (GType object_type)
{
	Data * self = NULL;
	gint ec = 0;
	sqlite3* _tmp0_ = NULL;
	gint _tmp1_;
	gint _tmp2_;
#line 14 "/home/john/ValaTest/src/Data.vala"
	self = (Data*) g_object_new (object_type, NULL);
#line 15 "/home/john/ValaTest/src/Data.vala"
	g_print ("INIT DATABASE\n");
#line 17 "/home/john/ValaTest/src/Data.vala"
	_tmp1_ = sqlite3_open ("kcopy_data.db", &_tmp0_);
#line 17 "/home/john/ValaTest/src/Data.vala"
	_sqlite3_close0 (self->priv->db);
#line 17 "/home/john/ValaTest/src/Data.vala"
	self->priv->db = _tmp0_;
#line 17 "/home/john/ValaTest/src/Data.vala"
	ec = _tmp1_;
#line 19 "/home/john/ValaTest/src/Data.vala"
	_tmp2_ = ec;
#line 19 "/home/john/ValaTest/src/Data.vala"
	if (_tmp2_ != SQLITE_OK) {
#line 20 "/home/john/ValaTest/src/Data.vala"
		g_print ("ERROR OPENING DATABASE\n");
#line 153 "Data.c"
	}
#line 14 "/home/john/ValaTest/src/Data.vala"
	return self;
#line 157 "Data.c"
}


Data*
data_new (void)
{
#line 14 "/home/john/ValaTest/src/Data.vala"
	return data_construct (TYPE_DATA);
#line 166 "Data.c"
}


static gint
_sqlite3_exec (sqlite3* self,
               const gchar* sql,
               sqlite3_callback callback,
               gpointer callback_target,
               gchar* * errmsg)
{
	gchar* _vala_errmsg = NULL;
	gint result = 0;
	const gchar* sqlite_errmsg = NULL;
	gint ec = 0;
	const gchar* _tmp0_ = NULL;
	gint _tmp1_;
	const gchar* _tmp4_;
#line 34 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	g_return_val_if_fail (self != NULL, 0);
#line 34 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	g_return_val_if_fail (sql != NULL, 0);
#line 36 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	_tmp1_ = sqlite3_exec (self, sql, callback, callback_target, (char**) (&_tmp0_));
#line 36 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	sqlite_errmsg = _tmp0_;
#line 36 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	ec = _tmp1_;
#line 37 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	if ((&_vala_errmsg) != NULL) {
#line 196 "Data.c"
		const gchar* _tmp2_;
		gchar* _tmp3_;
#line 38 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_tmp2_ = sqlite_errmsg;
#line 38 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_tmp3_ = g_strdup (_tmp2_);
#line 38 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_g_free0 (_vala_errmsg);
#line 38 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_vala_errmsg = _tmp3_;
#line 207 "Data.c"
	}
#line 40 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	_tmp4_ = sqlite_errmsg;
#line 40 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	sqlite3_free ((void*) _tmp4_);
#line 41 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	result = ec;
#line 41 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	if (errmsg) {
#line 41 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		*errmsg = _vala_errmsg;
#line 219 "Data.c"
	} else {
#line 41 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_g_free0 (_vala_errmsg);
#line 223 "Data.c"
	}
#line 41 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	return result;
#line 227 "Data.c"
}


void
data_DropTable (Data* self)
{
	sqlite3* _tmp0_;
#line 24 "/home/john/ValaTest/src/Data.vala"
	g_return_if_fail (self != NULL);
#line 25 "/home/john/ValaTest/src/Data.vala"
	_tmp0_ = self->priv->db;
#line 25 "/home/john/ValaTest/src/Data.vala"
	if (_tmp0_ != NULL) {
#line 241 "Data.c"
		gchar* query = NULL;
		gchar* _tmp1_;
		gint ec = 0;
		sqlite3* _tmp2_;
		const gchar* _tmp3_;
		gchar* _tmp4_ = NULL;
		gint _tmp5_;
		gint _tmp6_;
#line 26 "/home/john/ValaTest/src/Data.vala"
		_tmp1_ = g_strdup ("DELETE FROM clips");
#line 26 "/home/john/ValaTest/src/Data.vala"
		query = _tmp1_;
#line 28 "/home/john/ValaTest/src/Data.vala"
		_tmp2_ = self->priv->db;
#line 28 "/home/john/ValaTest/src/Data.vala"
		_tmp3_ = query;
#line 28 "/home/john/ValaTest/src/Data.vala"
		_tmp5_ = _sqlite3_exec (_tmp2_, _tmp3_, NULL, NULL, &_tmp4_);
#line 28 "/home/john/ValaTest/src/Data.vala"
		_g_free0 (self->priv->errmsg);
#line 28 "/home/john/ValaTest/src/Data.vala"
		self->priv->errmsg = _tmp4_;
#line 28 "/home/john/ValaTest/src/Data.vala"
		ec = _tmp5_;
#line 30 "/home/john/ValaTest/src/Data.vala"
		_tmp6_ = ec;
#line 30 "/home/john/ValaTest/src/Data.vala"
		if (_tmp6_ != SQLITE_OK) {
#line 31 "/home/john/ValaTest/src/Data.vala"
			g_print ("ERROR DROPPING TABLE\n");
#line 272 "Data.c"
		} else {
#line 33 "/home/john/ValaTest/src/Data.vala"
			g_print ("TABLE DROPPED\n");
#line 276 "Data.c"
		}
#line 36 "/home/john/ValaTest/src/Data.vala"
		g_signal_emit (self, data_signals[DATA_CALLBACK_EVENT_SIGNAL], 0, FALSE);
#line 25 "/home/john/ValaTest/src/Data.vala"
		_g_free0 (query);
#line 282 "Data.c"
	}
}


void
data_CreateTable (Data* self)
{
	sqlite3* _tmp0_;
#line 42 "/home/john/ValaTest/src/Data.vala"
	g_return_if_fail (self != NULL);
#line 43 "/home/john/ValaTest/src/Data.vala"
	_tmp0_ = self->priv->db;
#line 43 "/home/john/ValaTest/src/Data.vala"
	if (_tmp0_ != NULL) {
#line 297 "Data.c"
		gchar* query = NULL;
		gchar* _tmp1_;
		gint ec = 0;
		sqlite3* _tmp2_;
		const gchar* _tmp3_;
		gchar* _tmp4_ = NULL;
		gint _tmp5_;
		gint _tmp6_;
#line 44 "/home/john/ValaTest/src/Data.vala"
		_tmp1_ = g_strdup ("CREATE TABLE clips (\n" \
"                id INTEGER PRIMARY KEY NOT NULL,\n" \
"                value TEXT NOT NULL,\n" \
"                date TEXT NOT NULL\n" \
"            )");
#line 44 "/home/john/ValaTest/src/Data.vala"
		query = _tmp1_;
#line 50 "/home/john/ValaTest/src/Data.vala"
		_tmp2_ = self->priv->db;
#line 50 "/home/john/ValaTest/src/Data.vala"
		_tmp3_ = query;
#line 50 "/home/john/ValaTest/src/Data.vala"
		_tmp5_ = _sqlite3_exec (_tmp2_, _tmp3_, NULL, NULL, &_tmp4_);
#line 50 "/home/john/ValaTest/src/Data.vala"
		_g_free0 (self->priv->errmsg);
#line 50 "/home/john/ValaTest/src/Data.vala"
		self->priv->errmsg = _tmp4_;
#line 50 "/home/john/ValaTest/src/Data.vala"
		ec = _tmp5_;
#line 52 "/home/john/ValaTest/src/Data.vala"
		_tmp6_ = ec;
#line 52 "/home/john/ValaTest/src/Data.vala"
		if (_tmp6_ != SQLITE_OK) {
#line 53 "/home/john/ValaTest/src/Data.vala"
			g_print ("ERROR CREATING DATABASE\n");
#line 328 "Data.c"
		} else {
#line 55 "/home/john/ValaTest/src/Data.vala"
			g_print ("CREATED TABLE SUCCESSFULLY\n");
#line 332 "Data.c"
		}
#line 58 "/home/john/ValaTest/src/Data.vala"
		g_signal_emit (self, data_signals[DATA_CALLBACK_EVENT_SIGNAL], 0, TRUE);
#line 43 "/home/john/ValaTest/src/Data.vala"
		_g_free0 (query);
#line 338 "Data.c"
	}
}


void
data_InsertClip (Data* self,
                 const gchar* value)
{
	sqlite3* _tmp0_;
#line 64 "/home/john/ValaTest/src/Data.vala"
	g_return_if_fail (self != NULL);
#line 64 "/home/john/ValaTest/src/Data.vala"
	g_return_if_fail (value != NULL);
#line 65 "/home/john/ValaTest/src/Data.vala"
	_tmp0_ = self->priv->db;
#line 65 "/home/john/ValaTest/src/Data.vala"
	if (_tmp0_ != NULL) {
#line 356 "Data.c"
		gchar* query = NULL;
		gchar* _tmp1_;
		gchar* _tmp2_;
		gchar* _tmp3_;
		gchar* _tmp4_;
		gint ec = 0;
		sqlite3* _tmp5_;
		const gchar* _tmp6_;
		gchar* _tmp7_ = NULL;
		gint _tmp8_;
		gint _tmp9_;
#line 66 "/home/john/ValaTest/src/Data.vala"
		_tmp1_ = g_strconcat ("INSERT INTO clips (value,date) VALUES('", value, NULL);
#line 66 "/home/john/ValaTest/src/Data.vala"
		_tmp2_ = _tmp1_;
#line 66 "/home/john/ValaTest/src/Data.vala"
		_tmp3_ = g_strconcat (_tmp2_, "',DATETIME('now')) ", NULL);
#line 66 "/home/john/ValaTest/src/Data.vala"
		_tmp4_ = _tmp3_;
#line 66 "/home/john/ValaTest/src/Data.vala"
		_g_free0 (_tmp2_);
#line 66 "/home/john/ValaTest/src/Data.vala"
		query = _tmp4_;
#line 68 "/home/john/ValaTest/src/Data.vala"
		_tmp5_ = self->priv->db;
#line 68 "/home/john/ValaTest/src/Data.vala"
		_tmp6_ = query;
#line 68 "/home/john/ValaTest/src/Data.vala"
		_tmp8_ = _sqlite3_exec (_tmp5_, _tmp6_, NULL, NULL, &_tmp7_);
#line 68 "/home/john/ValaTest/src/Data.vala"
		_g_free0 (self->priv->errmsg);
#line 68 "/home/john/ValaTest/src/Data.vala"
		self->priv->errmsg = _tmp7_;
#line 68 "/home/john/ValaTest/src/Data.vala"
		ec = _tmp8_;
#line 70 "/home/john/ValaTest/src/Data.vala"
		_tmp9_ = ec;
#line 70 "/home/john/ValaTest/src/Data.vala"
		if (_tmp9_ != SQLITE_OK) {
#line 396 "Data.c"
			const gchar* _tmp10_;
			gchar* _tmp11_;
			gchar* _tmp12_;
#line 71 "/home/john/ValaTest/src/Data.vala"
			g_print ("ERROR ADDING CLIP TO TABLE\n");
#line 72 "/home/john/ValaTest/src/Data.vala"
			_tmp10_ = self->priv->errmsg;
#line 72 "/home/john/ValaTest/src/Data.vala"
			_tmp11_ = g_strconcat (_tmp10_, "\n", NULL);
#line 72 "/home/john/ValaTest/src/Data.vala"
			_tmp12_ = _tmp11_;
#line 72 "/home/john/ValaTest/src/Data.vala"
			g_print ("%s", _tmp12_);
#line 72 "/home/john/ValaTest/src/Data.vala"
			_g_free0 (_tmp12_);
#line 412 "Data.c"
		} else {
			Clip** _tmp13_;
			Clip* newClip = NULL;
			Clip* _tmp14_;
			Clip* _tmp15_;
			Clip* _tmp16_;
#line 74 "/home/john/ValaTest/src/Data.vala"
			g_print ("SUCCESS ADDING CLIP\n");
#line 75 "/home/john/ValaTest/src/Data.vala"
			_tmp13_ = g_new0 (Clip*, 0 + 1);
#line 75 "/home/john/ValaTest/src/Data.vala"
			self->priv->clips = (_vala_array_free (self->priv->clips, self->priv->clips_length1, (GDestroyNotify) clip_unref), NULL);
#line 75 "/home/john/ValaTest/src/Data.vala"
			self->priv->clips = _tmp13_;
#line 75 "/home/john/ValaTest/src/Data.vala"
			self->priv->clips_length1 = 0;
#line 75 "/home/john/ValaTest/src/Data.vala"
			self->priv->_clips_size_ = self->priv->clips_length1;
#line 78 "/home/john/ValaTest/src/Data.vala"
			_tmp14_ = clip_new ();
#line 78 "/home/john/ValaTest/src/Data.vala"
			newClip = _tmp14_;
#line 79 "/home/john/ValaTest/src/Data.vala"
			_tmp15_ = newClip;
#line 79 "/home/john/ValaTest/src/Data.vala"
			clip_set_value (_tmp15_, value);
#line 82 "/home/john/ValaTest/src/Data.vala"
			_tmp16_ = newClip;
#line 82 "/home/john/ValaTest/src/Data.vala"
			g_signal_emit (self, data_signals[DATA_INSERT_CALLBACK_SIGNAL], 0, _tmp16_);
#line 70 "/home/john/ValaTest/src/Data.vala"
			_clip_unref0 (newClip);
#line 445 "Data.c"
		}
#line 65 "/home/john/ValaTest/src/Data.vala"
		_g_free0 (query);
#line 449 "Data.c"
	}
}


static gpointer
_clip_ref0 (gpointer self)
{
#line 109 "/home/john/ValaTest/src/Data.vala"
	return self ? clip_ref (self) : NULL;
#line 459 "Data.c"
}


static void
_vala_array_add1 (Clip** * array,
                  int* length,
                  int* size,
                  Clip* value)
{
#line 109 "/home/john/ValaTest/src/Data.vala"
	if ((*length) == (*size)) {
#line 109 "/home/john/ValaTest/src/Data.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 109 "/home/john/ValaTest/src/Data.vala"
		*array = g_renew (Clip*, *array, (*size) + 1);
#line 475 "Data.c"
	}
#line 109 "/home/john/ValaTest/src/Data.vala"
	(*array)[(*length)++] = value;
#line 109 "/home/john/ValaTest/src/Data.vala"
	(*array)[*length] = NULL;
#line 481 "Data.c"
}


void
data_GetClips (Data* self)
{
	sqlite3* _tmp0_;
#line 87 "/home/john/ValaTest/src/Data.vala"
	g_return_if_fail (self != NULL);
#line 88 "/home/john/ValaTest/src/Data.vala"
	_tmp0_ = self->priv->db;
#line 88 "/home/john/ValaTest/src/Data.vala"
	if (_tmp0_ != NULL) {
#line 495 "Data.c"
		gchar* query = NULL;
		gchar* _tmp1_;
		sqlite3_stmt* stmt = NULL;
		Clip** _tmp2_;
		gint ec = 0;
		sqlite3* _tmp3_;
		const gchar* _tmp4_;
		const gchar* _tmp5_;
		gint _tmp6_;
		gint _tmp7_;
		sqlite3_stmt* _tmp8_ = NULL;
		gint _tmp9_;
		Clip** _tmp35_;
		gint _tmp35__length1;
		gchar* _tmp36_;
		gchar* _tmp37_;
		gchar* _tmp38_;
		gchar* _tmp39_;
		gchar* _tmp40_;
		gchar* _tmp41_;
		Clip** _tmp42_;
		gint _tmp42__length1;
		gint _tmp43_;
#line 89 "/home/john/ValaTest/src/Data.vala"
		g_print ("PULLING CLIPS FROM DATABASE\n");
#line 90 "/home/john/ValaTest/src/Data.vala"
		_tmp1_ = g_strdup ("SELECT * FROM clips");
#line 90 "/home/john/ValaTest/src/Data.vala"
		query = _tmp1_;
#line 92 "/home/john/ValaTest/src/Data.vala"
		_tmp2_ = g_new0 (Clip*, 0 + 1);
#line 92 "/home/john/ValaTest/src/Data.vala"
		self->priv->clips = (_vala_array_free (self->priv->clips, self->priv->clips_length1, (GDestroyNotify) clip_unref), NULL);
#line 92 "/home/john/ValaTest/src/Data.vala"
		self->priv->clips = _tmp2_;
#line 92 "/home/john/ValaTest/src/Data.vala"
		self->priv->clips_length1 = 0;
#line 92 "/home/john/ValaTest/src/Data.vala"
		self->priv->_clips_size_ = self->priv->clips_length1;
#line 94 "/home/john/ValaTest/src/Data.vala"
		_tmp3_ = self->priv->db;
#line 94 "/home/john/ValaTest/src/Data.vala"
		_tmp4_ = query;
#line 94 "/home/john/ValaTest/src/Data.vala"
		_tmp5_ = query;
#line 94 "/home/john/ValaTest/src/Data.vala"
		_tmp6_ = strlen (_tmp5_);
#line 94 "/home/john/ValaTest/src/Data.vala"
		_tmp7_ = _tmp6_;
#line 94 "/home/john/ValaTest/src/Data.vala"
		_tmp9_ = sqlite3_prepare_v2 (_tmp3_, _tmp4_, _tmp7_, &_tmp8_, NULL);
#line 94 "/home/john/ValaTest/src/Data.vala"
		_sqlite3_finalize0 (stmt);
#line 94 "/home/john/ValaTest/src/Data.vala"
		stmt = _tmp8_;
#line 94 "/home/john/ValaTest/src/Data.vala"
		ec = _tmp9_;
#line 96 "/home/john/ValaTest/src/Data.vala"
		while (TRUE) {
#line 555 "Data.c"
			sqlite3_stmt* _tmp10_;
			Clip* clip = NULL;
			Clip* _tmp11_;
			Clip** _tmp32_;
			gint _tmp32__length1;
			Clip* _tmp33_;
			Clip* _tmp34_;
#line 96 "/home/john/ValaTest/src/Data.vala"
			_tmp10_ = stmt;
#line 96 "/home/john/ValaTest/src/Data.vala"
			if (!(sqlite3_step (_tmp10_) == SQLITE_ROW)) {
#line 96 "/home/john/ValaTest/src/Data.vala"
				break;
#line 569 "Data.c"
			}
#line 97 "/home/john/ValaTest/src/Data.vala"
			_tmp11_ = clip_new ();
#line 97 "/home/john/ValaTest/src/Data.vala"
			clip = _tmp11_;
#line 575 "Data.c"
			{
				gint i = 0;
#line 99 "/home/john/ValaTest/src/Data.vala"
				i = 0;
#line 580 "Data.c"
				{
					gboolean _tmp12_ = FALSE;
#line 99 "/home/john/ValaTest/src/Data.vala"
					_tmp12_ = TRUE;
#line 99 "/home/john/ValaTest/src/Data.vala"
					while (TRUE) {
#line 587 "Data.c"
						gint _tmp14_;
						sqlite3_stmt* _tmp15_;
						sqlite3_stmt* _tmp16_;
						gint _tmp17_;
						const gchar* _tmp18_;
						sqlite3_stmt* _tmp24_;
						gint _tmp25_;
						const gchar* _tmp26_;
#line 99 "/home/john/ValaTest/src/Data.vala"
						if (!_tmp12_) {
#line 598 "Data.c"
							gint _tmp13_;
#line 99 "/home/john/ValaTest/src/Data.vala"
							_tmp13_ = i;
#line 99 "/home/john/ValaTest/src/Data.vala"
							i = _tmp13_ + 1;
#line 604 "Data.c"
						}
#line 99 "/home/john/ValaTest/src/Data.vala"
						_tmp12_ = FALSE;
#line 99 "/home/john/ValaTest/src/Data.vala"
						_tmp14_ = i;
#line 99 "/home/john/ValaTest/src/Data.vala"
						_tmp15_ = stmt;
#line 99 "/home/john/ValaTest/src/Data.vala"
						if (!(_tmp14_ < sqlite3_column_count (_tmp15_))) {
#line 99 "/home/john/ValaTest/src/Data.vala"
							break;
#line 616 "Data.c"
						}
#line 100 "/home/john/ValaTest/src/Data.vala"
						_tmp16_ = stmt;
#line 100 "/home/john/ValaTest/src/Data.vala"
						_tmp17_ = i;
#line 100 "/home/john/ValaTest/src/Data.vala"
						_tmp18_ = sqlite3_column_name (_tmp16_, _tmp17_);
#line 100 "/home/john/ValaTest/src/Data.vala"
						if (g_strcmp0 (_tmp18_, "value") == 0) {
#line 626 "Data.c"
							Clip* _tmp19_;
							sqlite3_stmt* _tmp20_;
							gint _tmp21_;
							sqlite3_value* _tmp22_;
							const gchar* _tmp23_;
#line 101 "/home/john/ValaTest/src/Data.vala"
							_tmp19_ = clip;
#line 101 "/home/john/ValaTest/src/Data.vala"
							_tmp20_ = stmt;
#line 101 "/home/john/ValaTest/src/Data.vala"
							_tmp21_ = i;
#line 101 "/home/john/ValaTest/src/Data.vala"
							_tmp22_ = sqlite3_column_value (_tmp20_, _tmp21_);
#line 101 "/home/john/ValaTest/src/Data.vala"
							_tmp23_ = (const gchar*) sqlite3_value_text (_tmp22_);
#line 101 "/home/john/ValaTest/src/Data.vala"
							clip_set_value (_tmp19_, _tmp23_);
#line 644 "Data.c"
						}
#line 104 "/home/john/ValaTest/src/Data.vala"
						_tmp24_ = stmt;
#line 104 "/home/john/ValaTest/src/Data.vala"
						_tmp25_ = i;
#line 104 "/home/john/ValaTest/src/Data.vala"
						_tmp26_ = sqlite3_column_name (_tmp24_, _tmp25_);
#line 104 "/home/john/ValaTest/src/Data.vala"
						if (g_strcmp0 (_tmp26_, "date") == 0) {
#line 654 "Data.c"
							Clip* _tmp27_;
							sqlite3_stmt* _tmp28_;
							gint _tmp29_;
							sqlite3_value* _tmp30_;
							const gchar* _tmp31_;
#line 105 "/home/john/ValaTest/src/Data.vala"
							_tmp27_ = clip;
#line 105 "/home/john/ValaTest/src/Data.vala"
							_tmp28_ = stmt;
#line 105 "/home/john/ValaTest/src/Data.vala"
							_tmp29_ = i;
#line 105 "/home/john/ValaTest/src/Data.vala"
							_tmp30_ = sqlite3_column_value (_tmp28_, _tmp29_);
#line 105 "/home/john/ValaTest/src/Data.vala"
							_tmp31_ = (const gchar*) sqlite3_value_text (_tmp30_);
#line 105 "/home/john/ValaTest/src/Data.vala"
							clip_set_date (_tmp27_, _tmp31_);
#line 672 "Data.c"
						}
					}
				}
			}
#line 109 "/home/john/ValaTest/src/Data.vala"
			_tmp32_ = self->priv->clips;
#line 109 "/home/john/ValaTest/src/Data.vala"
			_tmp32__length1 = self->priv->clips_length1;
#line 109 "/home/john/ValaTest/src/Data.vala"
			_tmp33_ = clip;
#line 109 "/home/john/ValaTest/src/Data.vala"
			_tmp34_ = _clip_ref0 (_tmp33_);
#line 109 "/home/john/ValaTest/src/Data.vala"
			_vala_array_add1 (&self->priv->clips, &self->priv->clips_length1, &self->priv->_clips_size_, _tmp34_);
#line 96 "/home/john/ValaTest/src/Data.vala"
			_clip_unref0 (clip);
#line 689 "Data.c"
		}
#line 112 "/home/john/ValaTest/src/Data.vala"
		_tmp35_ = self->priv->clips;
#line 112 "/home/john/ValaTest/src/Data.vala"
		_tmp35__length1 = self->priv->clips_length1;
#line 112 "/home/john/ValaTest/src/Data.vala"
		_tmp36_ = g_strdup_printf ("%i", _tmp35__length1);
#line 112 "/home/john/ValaTest/src/Data.vala"
		_tmp37_ = _tmp36_;
#line 112 "/home/john/ValaTest/src/Data.vala"
		_tmp38_ = g_strconcat ("LIST BUILT: ", _tmp37_, NULL);
#line 112 "/home/john/ValaTest/src/Data.vala"
		_tmp39_ = _tmp38_;
#line 112 "/home/john/ValaTest/src/Data.vala"
		_tmp40_ = g_strconcat (_tmp39_, "\n", NULL);
#line 112 "/home/john/ValaTest/src/Data.vala"
		_tmp41_ = _tmp40_;
#line 112 "/home/john/ValaTest/src/Data.vala"
		g_print ("%s", _tmp41_);
#line 112 "/home/john/ValaTest/src/Data.vala"
		_g_free0 (_tmp41_);
#line 112 "/home/john/ValaTest/src/Data.vala"
		_g_free0 (_tmp39_);
#line 112 "/home/john/ValaTest/src/Data.vala"
		_g_free0 (_tmp37_);
#line 113 "/home/john/ValaTest/src/Data.vala"
		_tmp42_ = self->priv->clips;
#line 113 "/home/john/ValaTest/src/Data.vala"
		_tmp42__length1 = self->priv->clips_length1;
#line 113 "/home/john/ValaTest/src/Data.vala"
		g_signal_emit (self, data_signals[DATA_ROW_CALLBACK_SIGNAL], 0, _tmp42_, _tmp42__length1);
#line 115 "/home/john/ValaTest/src/Data.vala"
		_tmp43_ = ec;
#line 115 "/home/john/ValaTest/src/Data.vala"
		if (_tmp43_ != SQLITE_OK) {
#line 116 "/home/john/ValaTest/src/Data.vala"
			g_print ("ERROR PULLING DATA FROM TABLE\n");
#line 727 "Data.c"
		}
#line 88 "/home/john/ValaTest/src/Data.vala"
		_sqlite3_finalize0 (stmt);
#line 88 "/home/john/ValaTest/src/Data.vala"
		_g_free0 (query);
#line 733 "Data.c"
	}
}


void
data_SearchClips (Data* self,
                  const gchar* term)
{
	sqlite3* _tmp0_;
#line 121 "/home/john/ValaTest/src/Data.vala"
	g_return_if_fail (self != NULL);
#line 121 "/home/john/ValaTest/src/Data.vala"
	g_return_if_fail (term != NULL);
#line 122 "/home/john/ValaTest/src/Data.vala"
	_tmp0_ = self->priv->db;
#line 122 "/home/john/ValaTest/src/Data.vala"
	if (_tmp0_ != NULL) {
#line 751 "Data.c"
		gchar* query = NULL;
		gchar* _tmp1_;
		gchar* _tmp2_;
		gchar* _tmp3_;
		gchar* _tmp4_;
		sqlite3_stmt* stmt = NULL;
		gint ec = 0;
		sqlite3* _tmp5_;
		const gchar* _tmp6_;
		const gchar* _tmp7_;
		gint _tmp8_;
		gint _tmp9_;
		sqlite3_stmt* _tmp10_ = NULL;
		gint _tmp11_;
		Clip** _tmp34_;
		gint _tmp34__length1;
		gint _tmp35_;
#line 123 "/home/john/ValaTest/src/Data.vala"
		_tmp1_ = g_strconcat ("SELECT * FROM clips WHERE value LIKE '", term, NULL);
#line 123 "/home/john/ValaTest/src/Data.vala"
		_tmp2_ = _tmp1_;
#line 123 "/home/john/ValaTest/src/Data.vala"
		_tmp3_ = g_strconcat (_tmp2_, "%'", NULL);
#line 123 "/home/john/ValaTest/src/Data.vala"
		_tmp4_ = _tmp3_;
#line 123 "/home/john/ValaTest/src/Data.vala"
		_g_free0 (_tmp2_);
#line 123 "/home/john/ValaTest/src/Data.vala"
		query = _tmp4_;
#line 126 "/home/john/ValaTest/src/Data.vala"
		_tmp5_ = self->priv->db;
#line 126 "/home/john/ValaTest/src/Data.vala"
		_tmp6_ = query;
#line 126 "/home/john/ValaTest/src/Data.vala"
		_tmp7_ = query;
#line 126 "/home/john/ValaTest/src/Data.vala"
		_tmp8_ = strlen (_tmp7_);
#line 126 "/home/john/ValaTest/src/Data.vala"
		_tmp9_ = _tmp8_;
#line 126 "/home/john/ValaTest/src/Data.vala"
		_tmp11_ = sqlite3_prepare_v2 (_tmp5_, _tmp6_, _tmp9_, &_tmp10_, NULL);
#line 126 "/home/john/ValaTest/src/Data.vala"
		_sqlite3_finalize0 (stmt);
#line 126 "/home/john/ValaTest/src/Data.vala"
		stmt = _tmp10_;
#line 126 "/home/john/ValaTest/src/Data.vala"
		ec = _tmp11_;
#line 128 "/home/john/ValaTest/src/Data.vala"
		while (TRUE) {
#line 801 "Data.c"
			sqlite3_stmt* _tmp12_;
			Clip* clip = NULL;
			Clip* _tmp13_;
#line 128 "/home/john/ValaTest/src/Data.vala"
			_tmp12_ = stmt;
#line 128 "/home/john/ValaTest/src/Data.vala"
			if (!(sqlite3_step (_tmp12_) == SQLITE_ROW)) {
#line 128 "/home/john/ValaTest/src/Data.vala"
				break;
#line 811 "Data.c"
			}
#line 129 "/home/john/ValaTest/src/Data.vala"
			_tmp13_ = clip_new ();
#line 129 "/home/john/ValaTest/src/Data.vala"
			clip = _tmp13_;
#line 817 "Data.c"
			{
				gint i = 0;
#line 131 "/home/john/ValaTest/src/Data.vala"
				i = 0;
#line 822 "Data.c"
				{
					gboolean _tmp14_ = FALSE;
#line 131 "/home/john/ValaTest/src/Data.vala"
					_tmp14_ = TRUE;
#line 131 "/home/john/ValaTest/src/Data.vala"
					while (TRUE) {
#line 829 "Data.c"
						gint _tmp16_;
						sqlite3_stmt* _tmp17_;
						sqlite3_stmt* _tmp18_;
						gint _tmp19_;
						const gchar* _tmp20_;
						sqlite3_stmt* _tmp26_;
						gint _tmp27_;
						const gchar* _tmp28_;
#line 131 "/home/john/ValaTest/src/Data.vala"
						if (!_tmp14_) {
#line 840 "Data.c"
							gint _tmp15_;
#line 131 "/home/john/ValaTest/src/Data.vala"
							_tmp15_ = i;
#line 131 "/home/john/ValaTest/src/Data.vala"
							i = _tmp15_ + 1;
#line 846 "Data.c"
						}
#line 131 "/home/john/ValaTest/src/Data.vala"
						_tmp14_ = FALSE;
#line 131 "/home/john/ValaTest/src/Data.vala"
						_tmp16_ = i;
#line 131 "/home/john/ValaTest/src/Data.vala"
						_tmp17_ = stmt;
#line 131 "/home/john/ValaTest/src/Data.vala"
						if (!(_tmp16_ < sqlite3_column_count (_tmp17_))) {
#line 131 "/home/john/ValaTest/src/Data.vala"
							break;
#line 858 "Data.c"
						}
#line 132 "/home/john/ValaTest/src/Data.vala"
						_tmp18_ = stmt;
#line 132 "/home/john/ValaTest/src/Data.vala"
						_tmp19_ = i;
#line 132 "/home/john/ValaTest/src/Data.vala"
						_tmp20_ = sqlite3_column_name (_tmp18_, _tmp19_);
#line 132 "/home/john/ValaTest/src/Data.vala"
						if (g_strcmp0 (_tmp20_, "value") == 0) {
#line 868 "Data.c"
							Clip* _tmp21_;
							sqlite3_stmt* _tmp22_;
							gint _tmp23_;
							sqlite3_value* _tmp24_;
							const gchar* _tmp25_;
#line 133 "/home/john/ValaTest/src/Data.vala"
							_tmp21_ = clip;
#line 133 "/home/john/ValaTest/src/Data.vala"
							_tmp22_ = stmt;
#line 133 "/home/john/ValaTest/src/Data.vala"
							_tmp23_ = i;
#line 133 "/home/john/ValaTest/src/Data.vala"
							_tmp24_ = sqlite3_column_value (_tmp22_, _tmp23_);
#line 133 "/home/john/ValaTest/src/Data.vala"
							_tmp25_ = (const gchar*) sqlite3_value_text (_tmp24_);
#line 133 "/home/john/ValaTest/src/Data.vala"
							clip_set_value (_tmp21_, _tmp25_);
#line 886 "Data.c"
						}
#line 136 "/home/john/ValaTest/src/Data.vala"
						_tmp26_ = stmt;
#line 136 "/home/john/ValaTest/src/Data.vala"
						_tmp27_ = i;
#line 136 "/home/john/ValaTest/src/Data.vala"
						_tmp28_ = sqlite3_column_name (_tmp26_, _tmp27_);
#line 136 "/home/john/ValaTest/src/Data.vala"
						if (g_strcmp0 (_tmp28_, "date") == 0) {
#line 896 "Data.c"
							Clip* _tmp29_;
							sqlite3_stmt* _tmp30_;
							gint _tmp31_;
							sqlite3_value* _tmp32_;
							const gchar* _tmp33_;
#line 137 "/home/john/ValaTest/src/Data.vala"
							_tmp29_ = clip;
#line 137 "/home/john/ValaTest/src/Data.vala"
							_tmp30_ = stmt;
#line 137 "/home/john/ValaTest/src/Data.vala"
							_tmp31_ = i;
#line 137 "/home/john/ValaTest/src/Data.vala"
							_tmp32_ = sqlite3_column_value (_tmp30_, _tmp31_);
#line 137 "/home/john/ValaTest/src/Data.vala"
							_tmp33_ = (const gchar*) sqlite3_value_text (_tmp32_);
#line 137 "/home/john/ValaTest/src/Data.vala"
							clip_set_date (_tmp29_, _tmp33_);
#line 914 "Data.c"
						}
					}
				}
			}
#line 128 "/home/john/ValaTest/src/Data.vala"
			_clip_unref0 (clip);
#line 921 "Data.c"
		}
#line 142 "/home/john/ValaTest/src/Data.vala"
		_tmp34_ = self->priv->clips;
#line 142 "/home/john/ValaTest/src/Data.vala"
		_tmp34__length1 = self->priv->clips_length1;
#line 142 "/home/john/ValaTest/src/Data.vala"
		g_signal_emit (self, data_signals[DATA_ROW_CALLBACK_SIGNAL], 0, _tmp34_, _tmp34__length1);
#line 144 "/home/john/ValaTest/src/Data.vala"
		_tmp35_ = ec;
#line 144 "/home/john/ValaTest/src/Data.vala"
		if (_tmp35_ != SQLITE_OK) {
#line 145 "/home/john/ValaTest/src/Data.vala"
			g_print ("ERROR PULLING DATA FROM TABLE\n");
#line 935 "Data.c"
		}
#line 122 "/home/john/ValaTest/src/Data.vala"
		_sqlite3_finalize0 (stmt);
#line 122 "/home/john/ValaTest/src/Data.vala"
		_g_free0 (query);
#line 941 "Data.c"
	}
}


static void
g_cclosure_user_marshal_VOID__POINTER_INT (GClosure * closure,
                                           GValue * return_value,
                                           guint n_param_values,
                                           const GValue * param_values,
                                           gpointer invocation_hint,
                                           gpointer marshal_data)
{
	typedef void (*GMarshalFunc_VOID__POINTER_INT) (gpointer data1, gpointer arg_1, gint arg_2, gpointer data2);
	register GMarshalFunc_VOID__POINTER_INT callback;
	register GCClosure * cc;
	register gpointer data1;
	register gpointer data2;
	cc = (GCClosure *) closure;
#line 3 "/home/john/ValaTest/src/Data.vala"
	g_return_if_fail (n_param_values == 3);
#line 3 "/home/john/ValaTest/src/Data.vala"
	if (G_CCLOSURE_SWAP_DATA (closure)) {
#line 3 "/home/john/ValaTest/src/Data.vala"
		data1 = closure->data;
#line 3 "/home/john/ValaTest/src/Data.vala"
		data2 = param_values->data[0].v_pointer;
#line 968 "Data.c"
	} else {
#line 3 "/home/john/ValaTest/src/Data.vala"
		data1 = param_values->data[0].v_pointer;
#line 3 "/home/john/ValaTest/src/Data.vala"
		data2 = closure->data;
#line 974 "Data.c"
	}
#line 3 "/home/john/ValaTest/src/Data.vala"
	callback = (GMarshalFunc_VOID__POINTER_INT) (marshal_data ? marshal_data : cc->callback);
#line 3 "/home/john/ValaTest/src/Data.vala"
	callback (data1, g_value_get_pointer (param_values + 1), g_value_get_int (param_values + 2), data2);
#line 980 "Data.c"
}


static void
g_cclosure_user_marshal_VOID__CLIP (GClosure * closure,
                                    GValue * return_value,
                                    guint n_param_values,
                                    const GValue * param_values,
                                    gpointer invocation_hint,
                                    gpointer marshal_data)
{
	typedef void (*GMarshalFunc_VOID__CLIP) (gpointer data1, gpointer arg_1, gpointer data2);
	register GMarshalFunc_VOID__CLIP callback;
	register GCClosure * cc;
	register gpointer data1;
	register gpointer data2;
	cc = (GCClosure *) closure;
#line 3 "/home/john/ValaTest/src/Data.vala"
	g_return_if_fail (n_param_values == 2);
#line 3 "/home/john/ValaTest/src/Data.vala"
	if (G_CCLOSURE_SWAP_DATA (closure)) {
#line 3 "/home/john/ValaTest/src/Data.vala"
		data1 = closure->data;
#line 3 "/home/john/ValaTest/src/Data.vala"
		data2 = param_values->data[0].v_pointer;
#line 1006 "Data.c"
	} else {
#line 3 "/home/john/ValaTest/src/Data.vala"
		data1 = param_values->data[0].v_pointer;
#line 3 "/home/john/ValaTest/src/Data.vala"
		data2 = closure->data;
#line 1012 "Data.c"
	}
#line 3 "/home/john/ValaTest/src/Data.vala"
	callback = (GMarshalFunc_VOID__CLIP) (marshal_data ? marshal_data : cc->callback);
#line 3 "/home/john/ValaTest/src/Data.vala"
	callback (data1, value_get_clip (param_values + 1), data2);
#line 1018 "Data.c"
}


static void
data_class_init (DataClass * klass)
{
#line 3 "/home/john/ValaTest/src/Data.vala"
	data_parent_class = g_type_class_peek_parent (klass);
#line 3 "/home/john/ValaTest/src/Data.vala"
	g_type_class_add_private (klass, sizeof (DataPrivate));
#line 3 "/home/john/ValaTest/src/Data.vala"
	G_OBJECT_CLASS (klass)->finalize = data_finalize;
#line 3 "/home/john/ValaTest/src/Data.vala"
	data_signals[DATA_CALLBACK_EVENT_SIGNAL] = g_signal_new ("callback-event", TYPE_DATA, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__BOOLEAN, G_TYPE_NONE, 1, G_TYPE_BOOLEAN);
#line 3 "/home/john/ValaTest/src/Data.vala"
	data_signals[DATA_ROW_CALLBACK_SIGNAL] = g_signal_new ("row-callback", TYPE_DATA, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_VOID__POINTER_INT, G_TYPE_NONE, 2, G_TYPE_POINTER, G_TYPE_INT);
#line 3 "/home/john/ValaTest/src/Data.vala"
	data_signals[DATA_INSERT_CALLBACK_SIGNAL] = g_signal_new ("insert-callback", TYPE_DATA, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_VOID__CLIP, G_TYPE_NONE, 1, TYPE_CLIP);
#line 1037 "Data.c"
}


static void
data_instance_init (Data * self)
{
#line 3 "/home/john/ValaTest/src/Data.vala"
	self->priv = DATA_GET_PRIVATE (self);
#line 4 "/home/john/ValaTest/src/Data.vala"
	self->priv->db = NULL;
#line 6 "/home/john/ValaTest/src/Data.vala"
	self->priv->current = 0;
#line 1050 "Data.c"
}


static void
data_finalize (GObject * obj)
{
	Data * self;
#line 3 "/home/john/ValaTest/src/Data.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TYPE_DATA, Data);
#line 4 "/home/john/ValaTest/src/Data.vala"
	_sqlite3_close0 (self->priv->db);
#line 5 "/home/john/ValaTest/src/Data.vala"
	_g_free0 (self->priv->errmsg);
#line 7 "/home/john/ValaTest/src/Data.vala"
	self->priv->clips = (_vala_array_free (self->priv->clips, self->priv->clips_length1, (GDestroyNotify) clip_unref), NULL);
#line 3 "/home/john/ValaTest/src/Data.vala"
	G_OBJECT_CLASS (data_parent_class)->finalize (obj);
#line 1068 "Data.c"
}


GType
data_get_type (void)
{
	static volatile gsize data_type_id__volatile = 0;
	if (g_once_init_enter (&data_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (DataClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) data_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (Data), 0, (GInstanceInitFunc) data_instance_init, NULL };
		GType data_type_id;
		data_type_id = g_type_register_static (G_TYPE_OBJECT, "Data", &g_define_type_info, 0);
		g_once_init_leave (&data_type_id__volatile, data_type_id);
	}
	return data_type_id__volatile;
}


static void
_vala_array_destroy (gpointer array,
                     gint array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void
_vala_array_free (gpointer array,
                  gint array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



